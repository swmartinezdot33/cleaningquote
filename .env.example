# Copy to .env.local and fill in values. Never commit .env.local.
# For production, set these in Vercel → Settings → Environment Variables.

# Public domain (set in Vercel for production; used for auth redirects and canonical URLs)
NEXT_PUBLIC_APP_URL=https://www.cleanquote.io

# Supabase (multi-tenant auth + tools table)
NEXT_PUBLIC_SUPABASE_URL=https://YOUR_PROJECT_REF.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here
# Required for super admin to see all orgs in dashboard org switcher (local + production)
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# Admin + KV (required for app and migration)
ADMIN_PASSWORD=your_strong_admin_password
KV_REST_API_URL=
KV_REST_API_TOKEN=

# Optional but recommended
JWT_SECRET=

# Optional (address autocomplete, geocoding, service area map).
GOOGLE_MAPS_API_KEY=

# Property lookup (Zillow-style shortcut): after service-area check we fetch sq ft, beds, baths by address.
# Set RAPIDAPI_KEY and RAPIDAPI_PROPERTY_HOST to enable (e.g. Zillow-style API on RapidAPI).
# RAPIDAPI_KEY=
# RAPIDAPI_PROPERTY_HOST=zillow-com1.p.rapidapi.com
# Optional: API path (default /propertyByAddress). Some APIs use /property or /getPropertyDetails.
# RAPIDAPI_PROPERTY_PATH=/propertyByAddress
# Vercel Blob: required for survey option image uploads (condition images, etc.). In Vercel: Project → Storage → Create Database → Blob → copy "BLOB_READ_WRITE_TOKEN" into Environment Variables. Locally: add same name to .env.local.
BLOB_READ_WRITE_TOKEN=

# Stripe (sell CleanQuote.io via Payment Link / Checkout)
# Monthly and annual price IDs from Stripe Dashboard → Products → Your Product → Pricing.
STRIPE_PRICE_ID_MONTHLY=price_1SyIWSLVHXcZJ1tW4Q8D7Jad
STRIPE_PRICE_ID_ANNUAL=price_1SyIWSLVHXcZJ1tWYJMILwyp
# Legacy: single price (fallback if monthly/annual not set)
STRIPE_PRICE_ID=
# Payment link URL (fallback if no STRIPE_PRICE_ID). Get from Stripe Dashboard → Payment Links.
NEXT_PUBLIC_STRIPE_PAYMENT_LINK_URL=
# Webhook: Stripe Dashboard → Developers → Webhooks → Add endpoint → /api/webhooks/stripe. Use signing secret (whsec_...).
STRIPE_WEBHOOK_SECRET=
# Optional: second webhook destination (e.g. Workbench "cleanquote-thin") — same URL, different signing secret.
STRIPE_WEBHOOK_SECRET_ALT=
# Secret key (sk_live_... or sk_test_...) for API and webhook verification.
STRIPE_SECRET_KEY=
# Publishable key (pk_live_... or pk_test_...) for appointment pre-auth payment capture on quote page. When set, customers can save a card at review step (no charge).
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
# Billing portal: org admins see "Manage billing" on Profile. Stripe Customer Portal or custom URL.
NEXT_PUBLIC_STRIPE_BILLING_PORTAL_URL=

# Post-checkout confirmation email (Resend). When set, new purchasers get an email with a set-password link.
RESEND_API_KEY=
RESEND_FROM=CleanQuote.io <team@clean.io>
# Inbound email webhook: Resend Dashboard → Webhooks → (your webhook) → Signing secret. Verifies email.received requests.
RESEND_WEBHOOK_SECRET=

# Super admin: comma-separated emails that can manage all users and orgs
SUPER_ADMIN_EMAILS=admin@example.com

# Vercel API (for adding custom domains programmatically via /api/admin/custom-domain/add)
# Create token at vercel.com/account/tokens. VERCEL_PROJECT_ID is auto-set in deployments; set VERCEL_PROJECT_NAME if needed.
VERCEL_TOKEN=
# VERCEL_PROJECT_ID=  # Auto-set by Vercel; override if needed
# VERCEL_PROJECT_NAME=cleaningquote
# VERCEL_TEAM_ID=  # Optional, for team projects

# Marketplace app OAuth (from your app's Client Keys)
# Redirect URI: must EXACTLY match GHL Marketplace app settings (including www vs non-www, no trailing slash).
GHL_CLIENT_ID=
GHL_CLIENT_SECRET=
# MUST exactly match GHL Marketplace App → Redirect URI (use oauth/callback, matches MaidCentral)
# Set this same value in GHL Marketplace → App → Redirect URI
GHL_REDIRECT_URI=https://www.cleanquote.io/api/auth/oauth/callback
# SSO key for iframe context: Marketplace App → Advanced Settings → Auth → Shared Secret. REQUIRED for locationId from user context.
# Must be the Shared Secret for the CleanQuote app (not MaidCentral or other apps).
GHL_APP_SSO_KEY=
# Optional: base URL for OAuth redirects (default: Vercel URL or http://localhost:PORT)
# APP_BASE_URL=
# Optional: override default OAuth scopes; GHL_VERSION_ID if needed for your app
# GHL_SCOPE=
# GHL_VERSION_ID=
# Optional: Agency token for POST /oauth/locationToken. If unset, we use the token stored when a Company user completed Connect (that token has oauth.write).
GHL_AGENCY_ACCESS_TOKEN=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdXRoQ2xhc3MiOiJDb21wYW55IiwiYXV0aENsYXNzSWQiOiI5d1hReFRPcWRSb3BvVUpVem1zUCIsInNvdXJjZSI6IklOVEVHUkFUSU9OIiwic291cmNlSWQiOiI2OTgzOTU3NTE0Y2ViMGJiMDMzYzhhYTEtbWxjeWdzYjYiLCJjaGFubmVsIjoiT0FVVEgiLCJwcmltYXJ5QXV0aENsYXNzSWQiOiI5d1hReFRPcWRSb3BvVUpVem1zUCIsIm9hdXRoTWV0YSI6eyJzY29wZXMiOlsiY2FsZW5kYXJzL2dyb3Vwcy53cml0ZSIsImNhbGVuZGFycy9yZXNvdXJjZXMucmVhZG9ubHkiLCJjYWxlbmRhcnMvcmVzb3VyY2VzLndyaXRlIiwiY29udmVyc2F0aW9ucy5yZWFkb25seSIsImNhbXBhaWducy5yZWFkb25seSIsImNvbnZlcnNhdGlvbnMud3JpdGUiLCJjYWxlbmRhcnMvZXZlbnRzLndyaXRlIiwiY2FsZW5kYXJzL2dyb3Vwcy5yZWFkb25seSIsImNhbGVuZGFycy9ldmVudHMucmVhZG9ubHkiLCJjYWxlbmRhcnMud3JpdGUiLCJjYWxlbmRhcnMucmVhZG9ubHkiLCJjb21wYW5pZXMucmVhZG9ubHkiLCJidXNpbmVzc2VzLndyaXRlIiwiYnVzaW5lc3Nlcy5yZWFkb25seSIsImNvbnZlcnNhdGlvbnMvbWVzc2FnZS5yZWFkb25seSIsImNvbnZlcnNhdGlvbnMvbWVzc2FnZS53cml0ZSIsImNvbnZlcnNhdGlvbnMvcmVwb3J0cy5yZWFkb25seSIsImNvbnZlcnNhdGlvbnMvbGl2ZWNoYXQud3JpdGUiLCJjb250YWN0cy5yZWFkb25seSIsImNvbnRhY3RzLndyaXRlIiwib2JqZWN0cy9zY2hlbWEucmVhZG9ubHkiLCJvYmplY3RzL3NjaGVtYS53cml0ZSIsIm9iamVjdHMvcmVjb3JkLndyaXRlIiwib2JqZWN0cy9yZWNvcmQucmVhZG9ubHkiLCJhc3NvY2lhdGlvbnMud3JpdGUiLCJhc3NvY2lhdGlvbnMucmVhZG9ubHkiLCJhc3NvY2lhdGlvbnMvcmVsYXRpb24ucmVhZG9ubHkiLCJhc3NvY2lhdGlvbnMvcmVsYXRpb24ud3JpdGUiLCJjb3Vyc2VzLndyaXRlIiwiY291cnNlcy5yZWFkb25seSIsImZvcm1zLnJlYWRvbmx5IiwiZm9ybXMud3JpdGUiLCJpbnZvaWNlcy5yZWFkb25seSIsImludm9pY2VzLndyaXRlIiwiaW52b2ljZXMvc2NoZWR1bGUud3JpdGUiLCJpbnZvaWNlcy9zY2hlZHVsZS5yZWFkb25seSIsImludm9pY2VzL3RlbXBsYXRlLnJlYWRvbmx5IiwiaW52b2ljZXMvdGVtcGxhdGUud3JpdGUiLCJpbnZvaWNlcy9lc3RpbWF0ZS5yZWFkb25seSIsImludm9pY2VzL2VzdGltYXRlLndyaXRlIiwibGlua3Mud3JpdGUiLCJsaW5rcy5yZWFkb25seSIsImxjLWVtYWlsLnJlYWRvbmx5IiwibG9jYXRpb25zLndyaXRlIiwibG9jYXRpb25zLnJlYWRvbmx5IiwibG9jYXRpb25zL2N1c3RvbVZhbHVlcy5yZWFkb25seSIsImxvY2F0aW9ucy9jdXN0b21GaWVsZHMucmVhZG9ubHkiLCJsb2NhdGlvbnMvY3VzdG9tVmFsdWVzLndyaXRlIiwibG9jYXRpb25zL2N1c3RvbUZpZWxkcy53cml0ZSIsImxvY2F0aW9ucy90YXNrcy5yZWFkb25seSIsImxvY2F0aW9ucy90YXNrcy53cml0ZSIsInJlY3VycmluZy10YXNrcy53cml0ZSIsInJlY3VycmluZy10YXNrcy5yZWFkb25seSIsImxvY2F0aW9ucy90YWdzLnJlYWRvbmx5IiwibG9jYXRpb25zL3RlbXBsYXRlcy5yZWFkb25seSIsImxvY2F0aW9ucy90YWdzLndyaXRlIiwibWVkaWFzLnJlYWRvbmx5IiwiZnVubmVscy9yZWRpcmVjdC5yZWFkb25seSIsIm1lZGlhcy53cml0ZSIsImZ1bm5lbHMvcGFnZS5yZWFkb25seSIsImZ1bm5lbHMvcGFnZWNvdW50LnJlYWRvbmx5IiwiZnVubmVscy9mdW5uZWwucmVhZG9ubHkiLCJmdW5uZWxzL3JlZGlyZWN0LndyaXRlIiwib2F1dGgud3JpdGUiLCJvYXV0aC5yZWFkb25seSIsIm9wcG9ydHVuaXRpZXMucmVhZG9ubHkiLCJvcHBvcnR1bml0aWVzLndyaXRlIiwicGF5bWVudHMvb3JkZXJzLnJlYWRvbmx5IiwicGF5bWVudHMvb3JkZXJzLndyaXRlIiwicGF5bWVudHMvb3JkZXJzLmNvbGxlY3RQYXltZW50IiwicGF5bWVudHMvaW50ZWdyYXRpb24ucmVhZG9ubHkiLCJwYXltZW50cy9pbnRlZ3JhdGlvbi53cml0ZSIsInBheW1lbnRzL2NvdXBvbnMucmVhZG9ubHkiLCJwYXltZW50cy9zdWJzY3JpcHRpb25zLnJlYWRvbmx5IiwicGF5bWVudHMvdHJhbnNhY3Rpb25zLnJlYWRvbmx5IiwicGF5bWVudHMvY291cG9ucy53cml0ZSIsInBheW1lbnRzL2N1c3RvbS1wcm92aWRlci5yZWFkb25seSIsInByb2R1Y3RzLndyaXRlIiwicHJvZHVjdHMvcHJpY2VzLnJlYWRvbmx5IiwicHJvZHVjdHMucmVhZG9ubHkiLCJwYXltZW50cy9jdXN0b20tcHJvdmlkZXIud3JpdGUiLCJwcm9kdWN0cy9wcmljZXMud3JpdGUiLCJwcm9kdWN0cy9jb2xsZWN0aW9uLnJlYWRvbmx5Iiwic2Fhcy9jb21wYW55LnJlYWQiLCJwcm9kdWN0cy9jb2xsZWN0aW9uLndyaXRlIiwic2Fhcy9jb21wYW55LndyaXRlIiwic2Fhcy9sb2NhdGlvbi5yZWFkIiwic2Fhcy9sb2NhdGlvbi53cml0ZSIsInNuYXBzaG90cy5yZWFkb25seSIsInNuYXBzaG90cy53cml0ZSIsInNvY2lhbHBsYW5uZXIvb2F1dGgucmVhZG9ubHkiLCJzb2NpYWxwbGFubmVyL3Bvc3QucmVhZG9ubHkiLCJzb2NpYWxwbGFubmVyL29hdXRoLndyaXRlIiwic29jaWFscGxhbm5lci9wb3N0LndyaXRlIiwic29jaWFscGxhbm5lci9hY2NvdW50LnJlYWRvbmx5Iiwic29jaWFscGxhbm5lci9jc3YucmVhZG9ubHkiLCJzb2NpYWxwbGFubmVyL2FjY291bnQud3JpdGUiLCJzb2NpYWxwbGFubmVyL2Nzdi53cml0ZSIsInNvY2lhbHBsYW5uZXIvdGFnLnJlYWRvbmx5Iiwic29jaWFscGxhbm5lci9jYXRlZ29yeS5yZWFkb25seSIsInNvY2lhbHBsYW5uZXIvc3RhdGlzdGljcy5yZWFkb25seSIsInN0b3JlL3NldHRpbmcud3JpdGUiLCJzdG9yZS9zaGlwcGluZy53cml0ZSIsInN0b3JlL3NoaXBwaW5nLnJlYWRvbmx5Iiwic3RvcmUvc2V0dGluZy5yZWFkb25seSIsInN1cnZleXMucmVhZG9ubHkiLCJ3b3JrZmxvd3MucmVhZG9ubHkiLCJ1c2Vycy5yZWFkb25seSIsInVzZXJzLndyaXRlIiwiZW1haWxzL2J1aWxkZXIud3JpdGUiLCJlbWFpbHMvc2NoZWR1bGUucmVhZG9ubHkiLCJlbWFpbHMvYnVpbGRlci5yZWFkb25seSIsIndvcmRwcmVzcy5zaXRlLnJlYWRvbmx5IiwiYmxvZ3MvcG9zdC53cml0ZSIsImJsb2dzL3Bvc3QtdXBkYXRlLndyaXRlIiwiYmxvZ3MvYXV0aG9yLnJlYWRvbmx5IiwiYmxvZ3MvY2F0ZWdvcnkucmVhZG9ubHkiLCJibG9ncy9jaGVjay1zbHVnLnJlYWRvbmx5Iiwic29jaWFscGxhbm5lci9jYXRlZ29yeS53cml0ZSIsInNvY2lhbHBsYW5uZXIvdGFnLndyaXRlIiwiYmxvZ3MvbGlzdC5yZWFkb25seSIsImJsb2dzL3Bvc3RzLnJlYWRvbmx5IiwiY3VzdG9tLW1lbnUtbGluay53cml0ZSIsImN1c3RvbS1tZW51LWxpbmsucmVhZG9ubHkiLCJicmFuZC1ib2FyZHMvZGVzaWduLWtpdC5yZWFkb25seSIsIm1hcmtldHBsYWNlLWluc3RhbGxlci1kZXRhaWxzLnJlYWRvbmx5IiwiYnJhbmQtYm9hcmRzL2Rlc2lnbi1raXQud3JpdGUiLCJ0d2lsaW9hY2NvdW50LnJlYWQiLCJjaGFyZ2VzLndyaXRlIiwiY2hhcmdlcy5yZWFkb25seSIsInBob25lbnVtYmVycy5yZWFkIiwibnVtYmVycG9vbHMucmVhZCIsImRvY3VtZW50c19jb250cmFjdHMvc2VuZExpbmsud3JpdGUiLCJkb2N1bWVudHNfY29udHJhY3RzL2xpc3QucmVhZG9ubHkiLCJkb2N1bWVudHNfY29udHJhY3RzX3RlbXBsYXRlL3NlbmRMaW5rLndyaXRlIiwiZG9jdW1lbnRzX2NvbnRyYWN0c190ZW1wbGF0ZS9saXN0LnJlYWRvbmx5Iiwidm9pY2UtYWktYWdlbnQtZ29hbHMucmVhZG9ubHkiLCJ2b2ljZS1haS1hZ2VudHMud3JpdGUiLCJ2b2ljZS1haS1hZ2VudHMucmVhZG9ubHkiLCJ2b2ljZS1haS1kYXNoYm9hcmQucmVhZG9ubHkiLCJ2b2ljZS1haS1hZ2VudC1nb2Fscy53cml0ZSIsImNvbnZlcnNhdGlvbi1haS5yZWFkb25seSIsImtub3dsZWRnZS1iYXNlcy5yZWFkb25seSIsImtub3dsZWRnZS1iYXNlcy53cml0ZSIsImNvbnZlcnNhdGlvbi1haS53cml0ZSIsImFnZW50LXN0dWRpby5yZWFkb25seSIsImFnZW50LXN0dWRpby53cml0ZSJdLCJjbGllbnQiOiI2OTgzOTU3NTE0Y2ViMGJiMDMzYzhhYTEiLCJ2ZXJzaW9uSWQiOiI2OTgzOTU3NTE0Y2ViMGJiMDMzYzhhYTEiLCJjbGllbnRLZXkiOiI2OTgzOTU3NTE0Y2ViMGJiMDMzYzhhYTEtbWxjeWdzYjYiLCJhZ2VuY3lQbGFuIjoiYWdlbmN5X21vbnRobHlfNDk3In0sImlhdCI6MTc3MDY0NTUxNC4wMDcsImV4cCI6MTc3MDczMTkxNC4wMDd9.iMY970B8KPSCZrDI4ujf3gcGGtOH5lmbzEEDMR9G45R5wQeEPwvCuy2qDtI_RVs8koyFe3t5tpkwl1vrXDrXHStk1ugV8Go-KWtHloVqEqMQ2e_0P4Cb1dd5jf3F1QXOWXF6t8R6hwkn96DlicYp_1aM-48GJJ63329dicZmp3GzD6bnnJRcGeY9JCXy3rZleTtVxbCN_JxJQ9Q0Ai-2dWPqbuWd_Pe2GDqyhhfStVJ3k3lDI7xqOtJZOHhg621QaaqyP9niI1Fsc4XOWx0CFyJjnB_Y86peLxvZBzXnlh-Z8UbGTMMkYJfRQ40VwLuwwRJydV27k5PIHW-GPRRYxyfX_-xCG3N90TYsPV8In9koG950V12Y8yab-hM1kat2v2upJ8ixBtntKE_Y5ki6huPgI3OdiRM8z_uXmcYE103jEbTCI7JA2ijwC3CmLrvimv3sKBhaM0GvTcFzWAtQe9DZ83peFruLCakLVV3wyMI335u38lXiugbj0P-EPdNImi0ZyCyQDpHc-wyf_LLSFI8b6bJBE5J_3DJEOrOJerzKfWP9FFcRAmFb6h-OHho12YGEliVq0toXcUfJDjjsrDT04mtFwjVnaR6QoE7LpsUqwtLiJraJM3L2YthxNenn3w2XqY1RFxL20rfXqvw2iYFfS94Oi0Ue6nOxQh5pKVo
GHL_COMPANY_ID=9wXQxTOqdRopoUJUzmsP
GHL_LOCATION_ID=tCqS9npFPtO0DSuYVvzb
# Optional: GHL API request timeout (ms). Default 25000.
# GHL_REQUEST_TIMEOUT_MS=25000
# Optional: In-memory cache TTL for GET requests (seconds). Default 60.
# GHL_CACHE_TTL_SEC=60
# Optional: Log response headers on error (set to 1 or true for debugging rate limits).
# DEBUG_GHL_HEADERS=

# One-time migration (first user + default tool). Can remove after migration.
MIGRATION_USER_EMAIL=
MIGRATION_USER_PASSWORD=
MIGRATION_DEFAULT_SLUG=default
MIGRATION_SECRET=
RUN_MIGRATION=
